.bg {
    position: fixed;
    inset: 0;
    z-index: -1;
    pointer-events: none;

    /* базовые дефолты (если атрибут не задан) */
    --ag-opacity: .9;
    --ag-saturate: 1.1;
    --ag-speed: 20s;

    /* цвета будут переопределены темой ниже */
    --ag-c1: #0F172A;
    --ag-c2: #1E293B;
    --ag-c3: #312E81;
    --ag-c4: #0B3B4F;

    opacity: var(--ag-opacity);
    background: linear-gradient(
            -45deg,
            var(--ag-c1),
            var(--ag-c2),
            var(--ag-c3),
            var(--ag-c4)
    );
    background-size: 400% 400%;
    filter: saturate(var(--ag-saturate));
    animation: agd-shift var(--ag-speed) ease-in-out infinite;
    will-change: background-position, filter, opacity;
}

/* ----- ТЕМЫ (локально, только для этого компонента) ----- */

/* Dark */
.bg[data-theme="dark"] {
    --ag-opacity: .92;
    --ag-saturate: 1.12;
    --ag-speed: 22s;

    --ag-c1: #100b0b;
    --ag-c2: #0f141b;
    --ag-c3: #131027;
    --ag-c4: #051d22;
}

/* Light */
.bg[data-theme="light"] {
    --ag-opacity: .85;
    --ag-saturate: 1.0;
    --ag-speed: 20s;

    /* светлый, но ненавязчивый набор */
    --ag-c1: #e6f0ff; /* мягкий голубой */
    --ag-c2: #f6f7fb; /* почти белый */
    --ag-c3: #dde7ff; /* светло-синий */
    --ag-c4: #f0fff7; /* светло-зелёный/бирюза */
}

/* анимация */
@keyframes agd-shift {
    0%   { background-position: 0% 50%; }
    50%  { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* уважение «уменьшить движения» */
@media (prefers-reduced-motion: reduce) {
    .bg { animation: none; }
}
